document.addEventListener("DOMContentLoaded",(function(){let e,t=document.querySelector(".navbar__burger"),o=document.querySelector(".navbar__menu-close"),s=document.querySelector(".navbar__menu"),c=document.querySelector("body"),r=document.querySelector(".navbar__menu-btn");function a(){s.classList.toggle("_active"),c.classList.toggle("_lock")}t.addEventListener("click",(function(e){e.stopPropagation(),a()})),o.addEventListener("click",(function(){a()})),document.addEventListener("click",(function(e){let o=e.target,c=o==s||s.contains(o),r=o==t,l=s.classList.contains("_active");c||r||!l||a()})),r.addEventListener("click",()=>{a()});let l=document.querySelectorAll(".navbar-link");for(let e=0;e<l.length;e++)l[e].addEventListener("click",e=>{s.classList.remove("_active"),c.classList.remove("_lock")});let n=document.querySelector(".callback"),i=document.querySelector(".callback__body"),d=document.querySelector(".callback__close"),u=document.querySelector(".navbar__phone-callback"),_=document.querySelector(".navbar__menu-callback");function m(){n.classList.toggle("_show"),c.classList.toggle("_lock")}u.addEventListener("click",(function(e){e.stopPropagation(),m()})),_.addEventListener("click",(function(e){e.stopPropagation(),m()})),d.addEventListener("click",(function(){m()})),document.addEventListener("click",(function(e){let t=e.target,o=t==i||i.contains(t),s=t==u,c=n.classList.contains("_show");o||s||!c||m()}));let v=document.querySelector(".header__form__tab-ordinary"),h=document.querySelector(".header__form__tab-group"),f=document.querySelector(".header__form__tabs");v.addEventListener("click",(function(e){this.classList.add("_active"),h.classList.remove("_active"),f.classList.add("ordinary_active"),f.classList.remove("group_active"),document.querySelector(".header__booking").style.display="block",document.querySelector(".header__application").style.display="none",e.preventDefault()})),h.addEventListener("click",(function(e){this.classList.add("_active"),v.classList.remove("_active"),f.classList.add("group_active"),f.classList.remove("ordinary_active"),document.querySelector(".header__application").style.display="block",document.querySelector(".header__booking").style.display="none",e.preventDefault()}));let L=document.querySelectorAll(".checkInDate"),y=document.querySelectorAll(".checkOutDate"),g=new Date,S=g.getDate(),p=g.getDate()+1,q=g.getMonth()+1,b=g.getFullYear();q>=1&&q<=9&&(q="0"+q),S>=1&&S<=9&&(S="0"+S),p>=1&&p<=9&&(p="0"+p);let w=b+"-"+q+"-"+S,k=b+"-"+q+"-"+p;for(e=0;e<L.length;e++)L[e].setAttribute("min",w),L[e].setAttribute("value",w),L[e].addEventListener("change",(function(){this.setAttribute("value",this.value)}));for(e=0;e<y.length;e++)y[e].setAttribute("min",k),y[e].setAttribute("value",k),y[e].addEventListener("change",(function(){this.setAttribute("value",this.value)}));let E=document.querySelector(".header-buttonAvailability"),A=document.querySelectorAll(".header-visaSupport"),D=document.querySelector(".rs"),T=document.querySelector(".rs-onload-load"),x=document.querySelector("#rsIframe"),H=document.querySelector(".rs-title");H.innerHTML="Бронирование",E.addEventListener("click",(function(){let e=document.querySelector("#checkInDateModule").value,t=document.querySelector("#checkOutDateModule").value,o=e.substring(0,4),s=e.substring(5,7),r=e.substring(8,10)+"-"+s+"-"+o,a=t.substring(0,4),l=t.substring(5,7),n="https://reservationsteps.ru/rooms/index/a7012a46-0c22-4353-92b9-f6169736cc29?&dfrom="+r+"&dto="+(t.substring(8,10)+"-"+l+"-"+a)+"&lang=ru";D.classList.add("_show"),c.classList.add("_lock"),x.setAttribute("src",n),x.onload=function(){T.classList.add("_hide");let e=document.querySelector(".rs-onload-done");e.classList.add("_show"),setTimeout(()=>{e.classList.remove("_show")},2e3)},x.onerror=function(){T.classList.add("_hide");let e=document.querySelector(".rs-onload-error");e.classList.add("_show"),setTimeout(()=>{e.classList.remove("_show")},2e3)}}));for(let e=0;e<A.length;e++)A[e].addEventListener("click",()=>{D.classList.add("_show"),x.setAttribute("src","https://www.hotels-pro.ru/order/9916/lang/ru"),H.innerHTML="Визовая поддержка"});document.querySelector(".rs-close").addEventListener("click",e=>{e.stopPropagation(),D.classList.remove("_show"),c.classList.remove("_lock"),x.setAttribute("src",""),setTimeout(()=>{T.classList.remove("_hide")},100)});let O=document.querySelectorAll(".btn-booking");for(let e=0;e<O.length;e++)O[e].addEventListener("click",e=>{document.querySelector(".rooms__info__card._show").classList.remove("_show"),c.classList.remove("_lock"),D.classList.add("_show"),x.setAttribute("src","https://reservationsteps.ru/rooms/index/a7012a46-0c22-4353-92b9-f6169736cc29"),H.innerHTML="Бронирование"});let M=document.querySelector("#checkInDateModule"),Y=document.querySelector("#checkInDateApplication");M.addEventListener("change",(function(){let e=document.querySelector("#checkInDateModule"),t=document.querySelector("#checkOutDateModule");if(Date.parse(e.value)>=Date.parse(t.value)){let o=Date.parse(e.value),s=new Date(o+864e5),c=s.getDate(),r=s.getMonth()+1,a=s.getFullYear();r>=1&&r<=9&&(r="0"+r),c>=1&&c<=9&&(c="0"+c),t.setAttribute("value",a+"-"+r+"-"+c)}})),Y.addEventListener("change",(function(){let e=document.querySelector("#checkInDateApplication"),t=document.querySelector("#checkOutDateApplication");if(Date.parse(e.value)>=Date.parse(t.value)){let o=Date.parse(e.value),s=new Date(o+864e5),c=s.getDate(),r=s.getMonth()+1,a=s.getFullYear();r>=1&&r<=9&&(r="0"+r),c>=1&&c<=9&&(c="0"+c),t.setAttribute("value",a+"-"+r+"-"+c)}})),$(".header__slider__list").slick({dots:!0,infinite:!0,fade:!0,prevArrow:".header__slider__arrow-prev",nextArrow:".header__slider__arrow-next",dotsClass:"header__slick-dots"}),$(".rooms__info__slider__list").slick({dots:!0,infinite:!0,dotsClass:"rooms__info__slick-dots"}),$(".reviews__slider__list").slick({dots:!0,infinite:!0,waitForAnimate:!1,slideToShow:3,centerMode:!0,variableWidth:!0,prevArrow:".reviews__slider__arrow-prev",nextArrow:".reviews__slider__arrow-next"});let C=document.querySelectorAll(".tab__room"),I=document.querySelectorAll(".card__room"),F=document.querySelectorAll(".tab__comfort"),P=document.querySelectorAll(".card__comfort");for(e=0;e<C.length;e++)C[e].addEventListener("click",(function(){for(e=0;e<C.length;e++)C[e].classList.remove("_active");for(e=0;e<I.length;e++)I[e].classList.remove("_active");document.querySelector(".room-"+this.dataset.card).classList.add("_active"),this.classList.add("_active")}));for(e=0;e<F.length;e++)F[e].addEventListener("click",(function(){for(e=0;e<F.length;e++)F[e].classList.remove("_active");for(e=0;e<P.length;e++)P[e].classList.remove("_active");document.querySelector(".room__comfort-"+this.dataset.card).classList.add("_active"),this.classList.add("_active")}));let U=document.querySelector(".header__form__tab-rooms"),B=document.querySelector(".header__form__tab-comfort"),G=document.querySelector(".rooms__form__tabs");U.addEventListener("click",(function(e){this.classList.add("_active"),B.classList.remove("_active"),G.classList.add("rooms_active"),G.classList.remove("comfort_active"),document.querySelector(".rooms__tabs__rooms").classList.add("_active"),document.querySelector(".rooms__tabs__rooms").classList.add("_showTabs"),document.querySelector(".rooms__tabs__comfort").classList.remove("_active"),document.querySelector(".rooms__tabs__comfort").classList.remove("_showTabs"),document.querySelector(".rooms__cards__rooms").classList.add("_active"),document.querySelector(".rooms__cards__comfort").classList.remove("_active");for(let e=0;e<C.length;e++){let e=document.querySelectorAll(".rooms__tab._active"),t=[]=e;for(let e=0;e<t.length;e++)t[e].classList.remove("_active"),setTimeout(()=>{t[e].classList.add("_active")},800)}}));for(let e=0;e<C.length;e++){let e=document.querySelectorAll(".rooms__tab._active"),t=[]=e;for(let e=0;e<t.length;e++)t[e].classList.remove("_active"),setTimeout(()=>{t[e].classList.add("_active")},800)}B.addEventListener("click",(function(e){this.classList.add("_active"),U.classList.remove("_active"),G.classList.add("comfort_active"),G.classList.remove("rooms_active"),document.querySelector(".rooms__tabs__comfort").classList.add("_active"),document.querySelector(".rooms__tabs__comfort").classList.add("_showTabs"),document.querySelector(".rooms__tabs__rooms").classList.remove("_active"),document.querySelector(".rooms__tabs__rooms").classList.remove("_showTabs"),document.querySelector(".rooms__cards__comfort").classList.add("_active"),document.querySelector(".rooms__cards__rooms").classList.remove("_active");for(let e=0;e<C.length;e++){let e=document.querySelectorAll(".rooms__tab._active"),t=[];t=e;for(let e=0;e<t.length;e++)t[e].classList.remove("_active"),setTimeout(()=>{t[e].classList.add("_active")},500)}}));let N=document.querySelectorAll(".rooms__info-close"),R=(document.querySelectorAll(".rooms__info__card"),document.querySelector(".rooms__info__card._show"),document.querySelectorAll(".rooms__card-button"));for(e=0;e<N.length;e++)N[e].addEventListener("click",(function(e){document.querySelector(".rooms__info__card._show").classList.remove("_show"),c.classList.remove("_lock")}));for(e=0;e<R.length;e++)R[e].addEventListener("click",(function(){document.querySelector("#room-"+this.dataset.info).classList.add("_show"),c.classList.add("_lock")}));document.querySelectorAll(".accordion-header").forEach(e=>{let t=e.nextElementSibling;e.addEventListener("click",o=>{e.classList.toggle("_active"),e.classList.contains("_active")?t.style.maxHeight=t.scrollHeight+"px":t.style.maxHeight=0}),e.classList.contains("_active")?t.style.maxHeight=t.scrollHeight+"px":t.style.maxHeight=0});const W=document.querySelector(".services__more"),X=document.querySelector(".services__cards");W.addEventListener("click",(function(){X.classList.toggle("_show"),this.classList.toggle("_active")}));let j=document.querySelector("html").clientHeight;window.addEventListener("scroll",(function(){pageYOffset>=j&&document.querySelector(".arrowUp").classList.add("_show"),pageYOffset<=j&&document.querySelector(".arrowUp").classList.remove("_show"),pageYOffset>=document.querySelector(".footer").offsetTop-500&&document.querySelector(".arrowUp").classList.remove("_show")})),window.addEventListener("scroll",(function(){let e=document.querySelector(".navbar"),t=document.querySelector(".navbar__up");pageYOffset>=j&&(e.classList.add("_fixed"),c.style.paddingTop=e.clientHeight+"px","none"!=getComputedStyle(t).display&&(e.style.top="-96px")),pageYOffset<=j&&(e.classList.remove("_fixed"),c.style.paddingTop=0)}));const z=document.querySelectorAll("._anim-item");if(z.length>0){function J(e){for(let e=0;e<z.length;e++){const t=z[e],o=t.offsetHeight,s=K(t).top,c=4;let r=window.innerHeight-o/c;o>window.innerHeight&&(r=window.innerHeight-window.innerHeight/c),pageYOffset>s-r&&pageYOffset<s+o?t.classList.add("_anim"):t.classList.contains("_anim-stop")||t.classList.remove("_anim")}}function K(e){const t=e.getBoundingClientRect(),o=window.pageXOffset||document.documentElement.scrollLeft,s=window.pageYOffset||document.documentElement.scrollTop;return{top:t.top+s,left:t.left+o}}window.addEventListener("scroll",J)}J(),document.querySelector("#copyrightNowYear").textContent=b;const Q=document.querySelector("#formSendEmail");Q.addEventListener("submit",(async function(e){e.preventDefault();const t=new FormData(Q);if((await fetch("mail.php",{method:"POST",body:t})).ok){Q.reset(),m();const e=document.querySelector(".response-successful");e.classList.add("_show"),setTimeout(()=>{e.classList.remove("_show")},3e3)}else{Q.reset(),m();const e=document.querySelector(".response-error");e.classList.add("_show"),setTimeout(()=>{e.classList.remove("_show")},3e3)}}));const V=document.querySelector("#formSendEmailGroup");V.addEventListener("submit",(async function(e){e.preventDefault();const t=new FormData(V);if((await fetch("group_booking.php",{method:"POST",body:t})).ok){V.reset();const e=document.querySelector(".response-successful");e.classList.add("_show"),setTimeout(()=>{e.classList.remove("_show")},3e3)}else{V.reset();const e=document.querySelector(".response-error");e.classList.add("_show"),setTimeout(()=>{e.classList.remove("_show")},3e3)}}));const Z=document.querySelectorAll('input[type="tel"]');for(let e=0;e<Z.length;e++)Z[e].addEventListener("keypress",(function(e){const t=e.charCode;console.log("ok"),t>=48&&t<=57||43==t||0==t||40==t||41==t||45==t||e.preventDefault()}))}));
document.addEventListener("DOMContentLoaded",(function(){let e,t=document.querySelector(".navbar__burger"),o=document.querySelector(".navbar__menu-close"),r=document.querySelector(".navbar__menu"),c=document.querySelector("body");function a(){r.classList.toggle("_active"),c.classList.toggle("_lock")}t.addEventListener("click",(function(e){e.stopPropagation(),a()})),o.addEventListener("click",(function(){a()})),document.addEventListener("touchstart",(function(e){let o=e.target,c=o==r||r.contains(o),l=o==t,n=r.classList.contains("_active");c||l||!n||a()}));let l=document.querySelector(".header__form__tab-ordinary"),n=document.querySelector(".header__form__tab-group"),s=(document.querySelector(".header__form-line_active"),document.querySelector(".header__form__tabs"));l.addEventListener("click",(function(e){this.classList.add("_active"),n.classList.remove("_active"),s.classList.add("ordinary_active"),s.classList.remove("group_active"),document.querySelector(".header__booking").style.display="block",document.querySelector(".header__application").style.display="none",e.preventDefault()})),n.addEventListener("click",(function(e){this.classList.add("_active"),l.classList.remove("_active"),s.classList.add("group_active"),s.classList.remove("ordinary_active"),document.querySelector(".header__application").style.display="block",document.querySelector(".header__booking").style.display="none",e.preventDefault()}));let i=document.querySelectorAll(".checkInDate"),u=document.querySelectorAll(".checkOutDate"),d=new Date,_=d.getDate(),v=d.getDate()+1,m=d.getMonth()+1,h=d.getFullYear(),g=h+"-"+m+"-"+_,y=h+"-"+m+"-"+v;for(e=0;e<i.length;e++)i[e].setAttribute("min",g),i[e].setAttribute("value",g),i[e].addEventListener("change",(function(){this.setAttribute("value",this.value)}));for(e=0;e<u.length;e++)u[e].setAttribute("min",y),u[e].setAttribute("value",y),u[e].addEventListener("change",(function(){this.setAttribute("value",this.value)}));let f=document.querySelector(".header-buttonAvailability");f.addEventListener("click",(function(){let e=document.querySelector("#checkInDateModule").value,t=document.querySelector("#checkOutDateModule").value,o=e.substring(0,4),r=e.substring(5,7),c=e.substring(8,10)+"-"+r+"-"+o,a=t.substring(0,4),l=t.substring(5,7),n=t.substring(8,10)+"-"+l+"-"+a;window.open("https://reservationsteps.ru/rooms/index/a7012a46-0c22-4353-92b9-f6169736cc29?&dfrom="+c+"&dto="+n+"&lang=ru","reservation steps","width=840, height=840, scrollbars=yes, toolbar=yes, location=1, resizable=1"),console.log(e),console.log(t)}));let L=document.querySelector("#checkInDateModule"),p=document.querySelector("#checkInDateApplication");L.addEventListener("change",(function(){let e=document.querySelector("#checkInDateModule"),t=document.querySelector("#checkOutDateModule");if(Date.parse(e.value)>=Date.parse(t.value)){let o=Date.parse(e.value),r=new Date(o+864e5),c=r.getDate(),a=r.getMonth()+1,l=r.getFullYear();a>=1&&a<=9&&(a="0"+a),c>=1&&c<=9&&(c="0"+c),t.setAttribute("value",l+"-"+a+"-"+c)}})),p.addEventListener("change",(function(){let e=document.querySelector("#checkInDateApplication"),t=document.querySelector("#checkOutDateApplication");if(Date.parse(e.value)>=Date.parse(t.value)){let o=Date.parse(e.value),r=new Date(o+864e5),c=r.getDate(),a=r.getMonth()+1,l=r.getFullYear();a>=1&&a<=9&&(a="0"+a),c>=1&&c<=9&&(c="0"+c),t.setAttribute("value",l+"-"+a+"-"+c)}})),$(".header__slider__list").slick({dots:!0,infinite:!0,fade:!0,prevArrow:".header__slider__arrow-prev",nextArrow:".header__slider__arrow-next",dotsClass:"header__slick-dots"}),$(".rooms__info__slider__list").slick({dots:!0,infinite:!0,fade:!0,prevArrow:".rooms__info__slider__arrow-prev",nextArrow:".rooms__info__slider__arrow-next",dotsClass:"rooms__info__slick-dots"});let b=document.querySelectorAll(".rooms__tab"),S=document.querySelectorAll(".rooms__card");for(e=0;e<b.length;e++)b[e].addEventListener("click",(function(){for(e=0;e<b.length;e++)b[e].classList.remove("_active");for(e=0;e<S.length;e++)S[e].classList.remove("_active");document.querySelector(".room-"+this.dataset.card).classList.add("_active"),this.classList.add("_active")}));document.querySelectorAll(".header__slider__arrows"),document.querySelectorAll(".header__slider__arrows svg");let q=document.querySelectorAll(".rooms__info-close"),k=document.querySelectorAll(".rooms__info__card"),D=document.querySelector(".rooms__info-bg"),A=document.querySelector(".rooms__info");for(e=0;e<q.length;e++)q[e].addEventListener("click",(function(){for(e=0;e<k.length;e++)k[e].classList.remove("_active");A.style.display="none",c.classList.remove("_lock"),D.classList.remove("_active")}));D.addEventListener("click",(function(){for(this.classList.remove("_active"),c.classList.remove("_lock"),e=0;e<k.length;e++)k[e].remove("_active")})),document.querySelectorAll(".accordion-header").forEach(e=>{e.addEventListener("click",t=>{e.classList.toggle("_active");let o=e.nextElementSibling;console.log(o),e.classList.contains("_active")?o.style.maxHeight=o.scrollHeight+"px":o.style.maxHeight=0})})}));